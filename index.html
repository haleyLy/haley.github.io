<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Haley - Blog,博客,分享,开源,心得</title><meta name="keywords" content="go,php,mysql,博客，分享，开源，心得"><meta name="author" content="子恒|Haley"><meta name="copyright" content="子恒|Haley"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="博客，分享，开源，心得">
<meta property="og:type" content="website">
<meta property="og:title" content="Haley">
<meta property="og:url" content="http://www.haleyl.com/index.html">
<meta property="og:site_name" content="Haley">
<meta property="og:description" content="博客，分享，开源，心得">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.haleyl.com/img/avatar.jpeg">
<meta property="article:author" content="子恒|Haley">
<meta property="article:tag" content="go,php,mysql,博客，分享，开源，心得">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.haleyl.com/img/avatar.jpeg"><link rel="shortcut icon" href="/img/favicon.jpeg"><link rel="canonical" href="http://www.haleyl.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2020-11-05 10:38:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Haley" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://d300.paixin.com/thumbs/1006880/22312145/staff_1024.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Haley</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Haley</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Haley" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Haley@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2017/11/23/go/go-fail/" title="Go 学习之路：异常处理defer，panic，recover">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604553908076&amp;di=3deb31b4c386bdc0894e1770d33e93ba&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201508%2F15%2F20150815225841_xWZQr.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：异常处理defer，panic，recover"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/11/23/go/go-fail/" title="Go 学习之路：异常处理defer，panic，recover">Go 学习之路：异常处理defer，panic，recover</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-11-22T19:19:20.000Z" title="发表于 2017-11-23 03:19:20">2017-11-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/go/">go</a></span></div><div class="content">Go没有像Java那样的异常机制，它不能抛出异常。因为设计者们认为，将异常与控制结构混在一起容易使得代码变得混乱。于是乎引入Exception处理: defer,panic,recover;
简单描述：Go中可以抛出一个panic的异常，然后在defer中通过recover捕获这个异常，然后正常处理。

例子代码：
1234567891011121314151617181920package mainimport &quot;fmt&quot;func demo()&#123;	fmt.Println(&quot;Welcome, my name is fudomine&quot;)	panic(400)	fmt.Println(&quot;Hello&quot;)&#125;func main()&#123;	defer func()&#123;		fmt.Println(&quot;defer start&quot;)		errorMsg :&#x3D; recover()		fmt.Println(&quot;Error msg :&quot;, errorMsg)		fmt.P ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2017/10/03/go/go-val/" title="Go 学习之路：引用类型与值类型">     <img class="post_bg" src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3407284977,848411949&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：引用类型与值类型"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/10/03/go/go-val/" title="Go 学习之路：引用类型与值类型">Go 学习之路：引用类型与值类型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-10-03T15:19:20.000Z" title="发表于 2017-10-03 23:19:20">2017-10-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/go/">go</a></span></div><div class="content">Golang中只有三种引用类型：slice(切片)、map(字典)、channel(管道)；引用类型
引用类型理解为（C语言）：指针

值类型
值的拷贝

下面以值类型和slice(切片)例子可知：
1234567891011package mainimport &quot;fmt&quot;func main()&#123;	a :&#x3D; [5]int&#123;2, 3, 4, 5, 6&#125;	b :&#x3D; a	fmt.Println(a,b)	b[2] &#x3D; 77	fmt.Println(a,b)&#125;
上面定义了一个数组a，它是值类型，复制给b是copy，当b发生变化后a并不会发生任何变化，结果如下：
1234567891011package mainimport &quot;fmt&quot;func main()&#123;	a :&#x3D; []int&#123;2, 3, 4, 5, 6&#125;	b :&#x3D; a	fmt.Println(a,b)	b[2] &#x3D; 77	fmt.Println(a,b)&#125;
上面 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2017/09/01/go/go-fmt/" title="Go 学习之路：Println 与 Printf 的区别">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604553352792&amp;di=c7fdae36ab8ea2b63f68e883bebf72f4&amp;imgtype=0&amp;src=http%3A%2F%2Fphotocdn.sohu.com%2F20151007%2Fmp34458815_1444187835381_60.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：Println 与 Printf 的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/09/01/go/go-fmt/" title="Go 学习之路：Println 与 Printf 的区别">Go 学习之路：Println 与 Printf 的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-09-01T02:19:20.000Z" title="发表于 2017-09-01 10:19:20">2017-09-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/go/">go</a></span></div><div class="content">Println 和Printf 都是fmt包中公共方法；在需要打印信息时常用的函数，那么二函数有什么区别呢？附上代码123456789101112131415161718192021222324package mainimport (	&quot;time&quot;	&quot;fmt&quot;)const (	Man &#x3D; 1	Female &#x3D; 2)func main()&#123;	timer :&#x3D; time.Now().Unix()	if(timer % Female &#x3D;&#x3D; 0)&#123;		fmt.Println(&quot;%d is Female&quot;, timer)		fmt.Printf(&quot;%d is Female&quot;, timer)	&#125;else&#123;		fmt.Println(&quot;%d is Man&quot;, timer)		fmt.Printf(&quot;%d is Man&quot;, timer)	&#125;&#125;
运行结果12%d is Man  ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2017/08/05/go/go-mark/" title="Go 学习之路：new和make的区别">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604553099831&amp;di=a31a076e057ec6d854ace500c5d69f21&amp;imgtype=0&amp;src=http%3A%2F%2Fimgsrc.baidu.com%2Fforum%2Fw%3D580%2Fsign%3D6e3b71dd9f2f07085f052a08d926b865%2F25d69eec08fa513dcf7a0f4c3c6d55fbb3fbd92e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：new和make的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/08/05/go/go-mark/" title="Go 学习之路：new和make的区别">Go 学习之路：new和make的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-08-05T02:19:20.000Z" title="发表于 2017-08-05 10:19:20">2017-08-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/go/">go</a></span></div><div class="content">
Go语言中new跟make是内置函数，主要用来创建分配类型内存。

new( )new(T)创建一个没有任何数据的类型为T的实例，并返回该实例的指针；
源码解析123func newfunc new(Type) *TypeThe new built-in function allocates memory. The first argument is a type, not a value, and the value returned is a pointer to a newly allocated zero value of that type.
make( )make(T, args)只能创建 slice、map和channel，并且返回一个有初始值args（非零）的T类型的实例，非指针。
源码解析12345678910111213141516func makefunc make(Type, size IntegerType) TypeThe make built-in function allocates and initializes an object of type  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2017/07/04/php/php-timer/" title="Laravel 自带时间处理函数">     <img class="post_bg" src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2516212805,4167059458&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel 自带时间处理函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/07/04/php/php-timer/" title="Laravel 自带时间处理函数">Laravel 自带时间处理函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-07-04T07:29:42.000Z" title="发表于 2017-07-04 15:29:42">2017-07-04</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/php/">php</a></span></div><div class="content">
Carbon 是继承自 PHP DateTime 类 的子类，但比后者提供了更加丰富、更加语义化的 API。其中一个比较实用的 API 就是 diffForHumans 方法，几乎每个用 Laravel 构建的项目中都有用到它。

比如，一个博客系统里的文章发布时间，显示格式可能就像下面这样：
12345**距离现在时间**     **显示格式**	&lt; 1小时           xx分钟前	1小时 - 24小时     xx小时前 	1天 - 15天         xx天前	&gt; 15天            直接显示日期

** 第一步：本地化 Carbon。在 AppServiceProvider 的 boot 方法中添加 Carbon::setLocale(‘zh’)。
1Carbon::setLocale(&#39;zh&#39;);

** 第二步：在 Model 中设定要人性化显示的字段。以 Article Model 的 created_at 字段为例。
123public function getCreatedAtAttribute($value)&# ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2017/06/04/php/php-vendor/" title="Laravel new 项目缺少Vendor（composer忽略php7版本）">     <img class="post_bg" src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1091292349,1608405974&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel new 项目缺少Vendor（composer忽略php7版本）"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/06/04/php/php-vendor/" title="Laravel new 项目缺少Vendor（composer忽略php7版本）">Laravel new 项目缺少Vendor（composer忽略php7版本）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-06-04T07:23:11.000Z" title="发表于 2017-06-04 15:23:11">2017-06-04</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/php/">php</a></span></div><div class="content">错误
Your requirements could not be resolved to an installable set of packages.


原因
php不匹配composer.json要求的版本

解决方法
composer install –ignore-platform-reqscomposer update –ignore-platform-reqscomposer create-project –prefer-dist laravel/laravel blog “5.5.*”

其他情况未满足一下条件



PHP &gt;= 7.0.0
PHP OpenSSL 扩展 
PHP PDO 扩展 
PHP Mbstring 扩展 
PHP Tokenizer扩展 
PHP XML 扩展

</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2017/05/15/mysql/mysql-index/" title="数据库优化之索引优化">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604482571084&amp;di=56023826c8082cc5bd95b3c06b40bb1d&amp;imgtype=0&amp;src=http%3A%2F%2Fseo-1255598498.file.myqcloud.com%2Ffull%2Fe9b01c255233e0bf0fc92564d28c632e2460d9f5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库优化之索引优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/05/15/mysql/mysql-index/" title="数据库优化之索引优化">数据库优化之索引优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-05-15T10:24:35.000Z" title="发表于 2017-05-15 18:24:35">2017-05-15</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/mysql/">mysql</a></span></div><div class="content">MySQL支持的索引类型
B-tree索引
Hash索引


B-tree索引特点
加快数据的查询速度
更适合进行范围查找原理
B+树的结构存储数据####适应范围
全值匹配的查询
匹配最左前缀的查询
匹配列前缀查询
匹配范围值的查询
精确匹配左前列并范围匹配另外一列
只访问索引的查询限制
如果不是按照索引最左列开始查找，则无法使用索引
使用索引时不能跳过索引中的列
Not in 和&lt;&gt;操作无法使用索引
如果查询中有某个列的范围查询，则其右边所有列都无法使用索引


Hash索引特点
Hash索引时基于Hash表实现的，只有查询条件精确匹配Hash索引中的所有列，才能够使用Hash索引。
对于Hash索引中的所有列，存储引擎都会为每一行计算一个Hash码，Hash索引中存储的就是Hash码原理
key-vlaue限制
二次读取
无法用于排序
不支持部分索引查找也不支持范围查找
Hash码的计算可能存在Hash冲突


为什么要使用索引
大大减少存储引擎需要扫描的数据量
帮助我们进行排序避免使用临时表
把随机I/O变为顺序I/O


索引是不是越多越好
索引会增加写操作的成本 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2017/04/15/mysql/mysql-struct/" title="数据库优化之结构设计">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604481966064&amp;di=8a0dc5c0ba4d8e638835913d6fd6b85d&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.php.cn%2Fupload%2Farticle%2F000%2F000%2F004%2Ffcddabd27a8f6088f49238d1d5787480.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库优化之结构设计"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/04/15/mysql/mysql-struct/" title="数据库优化之结构设计">数据库优化之结构设计</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-04-15T10:24:35.000Z" title="发表于 2017-04-15 18:24:35">2017-04-15</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/mysql/">mysql</a></span></div><div class="content">设计好处
良好的数据库逻辑设计和物理设计师数据库获得高性能的基础
范式化设计和反范式化设计（减少冗余、减少异常、让数据组织的更加和谐）
优化目的
减少数据冗余（尽量）
尽量避免数据维护中出现更新、插入和删除等异常
插入：如果表中的某个实体随着另一个实体而存在
更新：如果更改表中的某个实体的单独属性时，需要对多表进行更新
删除：如果删除表中的某一时则会导致其他实体的消失






设计过程
需求分析
全面了解产品设计的需求    
存储需求（比如一对多，多对一等）
数据处理需求
数据的安全性和完整性


逻辑分析
设计数据的逻辑存储结构
数据实体之前的逻辑关系，解决数据冗余和数据维护异常 


物理设计
根据所使用数据特点设计表结构


维护优化
对索引、存储结构等进行优化 


范式化
 设计没有数据冗余和数据维护异常的数据库结构


反范式化
 针对范式化而言的，在前面介绍了数据库设计的范式，所谓的反范式化就是为了性能和读取效率的考虑而适当的对数据库设计范式的要求进行违法，而允许存在少量的数据冗余，换句话来说反范式化就是使用空间来换取时间




本篇重点解释物理设计、范式化与反范 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2017/03/02/mysql/mysql-eg/" title="数据库优化之实例和故事">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604481509264&amp;di=e5e891992da77fca6fc2cdf1532474db&amp;imgtype=0&amp;src=http%3A%2F%2Finews.gtimg.com%2Fnewsapp_match%2F0%2F11212862796%2F0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库优化之实例和故事"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/03/02/mysql/mysql-eg/" title="数据库优化之实例和故事">数据库优化之实例和故事</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-03-02T01:24:35.000Z" title="发表于 2017-03-02 09:24:35">2017-03-02</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/mysql/">mysql</a></span></div><div class="content">
简要：每一项技术都离不开数据库，数据库犹如人的大脑；密不可分，一旦出了问题（故障），停顿，卡主后果可想而知；潜心学习数据库优化3个月，现在将学到的经验分享给大家，希望能够跟各位PHP大神分享和学习探索，如果有不对或者好的建议告知下；*~*！

合理时间备份数据
备份数据，是每个项目维护的日常工作；有利于数据在系统遭受破坏或其他特定情况下,重新加以利用的一个过程；项目的备份时间，大都是根据项目需求来决定，比如：每小时，指定时间等；　

　案例:   某个项目正进行大型活动，数据库由于巨大用户量的访问以及定时备份；造成带宽出现峰值，大量执行操作处于队列状态，致使数据库停止工作；
　方法：

若拓扑结构单一结构（单台数据库），停止定时任务（备份）；
若拓扑结构非单一结构（主从/分布式），可停止定时任务；或主（数据库）放弃执行定时任务，从（数据库）执行；

###二、避免对大表操作

何谓大表，是指记录行数巨大，单标超过千万行；表数据文件巨大，表数据文件超过10G；

（1） 慢查询很难在一定时间内过滤出所需要的数据，原因：来源少-&gt;区分度低-&gt;大量磁盘IO-&gt;降低磁盘效率 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2017/02/10/mysql/mysql-performance/" title="数据库优化之什么影响性能">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604481263729&amp;di=e4916ac1de83d2b54d785082640366e3&amp;imgtype=0&amp;src=http%3A%2F%2Fp1.g.680.com%2F2016-07%2F15%2F20160715112604742520.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库优化之什么影响性能"></a></div><div class="recent-post-info"><a class="article-title" href="/2017/02/10/mysql/mysql-performance/" title="数据库优化之什么影响性能">数据库优化之什么影响性能</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-02-10T15:24:35.000Z" title="发表于 2017-02-10 23:24:35">2017-02-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/mysql/">mysql</a></span></div><div class="content">影响性能的几个方面
服务器
硬件
系统 


数据库
数据库存储引擎的选择（插件式存储引擎） 
数据库参数配置（影响远远大于前面几个影响）
数据库结构设计和SQL语句等级| 特点 | 是否冗余 | 盘数 | 读 | 写


–|—|—|—|—|—|RAID0 | 便宜,快速,危险 | 否 | N | 快 | 快|RAID1 | 高速读,简单,安全| 有 | 2 | 快 | 慢|RAID5 | 安全,成本折中| 有 | N+1 | 快 |取决于最慢的盘|RAID10| 贵,高速,安全| 有 | 2N | 快 | 快|


服务器
服务器硬件
CPU密集型-不支持多CPU对同一SQL并发处理
并发量
内存
RAID增加传统集齐硬盘的性能




- 总结
-  CPU
    - 64位的CPU一定要工作在64位的系统下
    - 对于并发比较高的场景CPU的数量比频率重要
    - 对于CPU密集性场景和复杂SQL则频率越高越好
- 内存
    - 选择主板所能适用的最高频率的内存
    - 内存的大小对性能很重要，所以尽可能的大
- I/O子系统
    - PCIe -&gt ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">子恒|Haley</div><div class="author-info__description">博客，分享，开源，心得</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/haleycom"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Haley" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Haley@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎各位同学，新站多多点赞👍哦～</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2017/11/23/go/go-fail/" title="Go 学习之路：异常处理defer，panic，recover"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604553908076&amp;di=3deb31b4c386bdc0894e1770d33e93ba&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201508%2F15%2F20150815225841_xWZQr.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：异常处理defer，panic，recover"/></a><div class="content"><a class="title" href="/2017/11/23/go/go-fail/" title="Go 学习之路：异常处理defer，panic，recover">Go 学习之路：异常处理defer，panic，recover</a><time datetime="2017-11-22T19:19:20.000Z" title="发表于 2017-11-23 03:19:20">2017-11-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2017/10/03/go/go-val/" title="Go 学习之路：引用类型与值类型"><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3407284977,848411949&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：引用类型与值类型"/></a><div class="content"><a class="title" href="/2017/10/03/go/go-val/" title="Go 学习之路：引用类型与值类型">Go 学习之路：引用类型与值类型</a><time datetime="2017-10-03T15:19:20.000Z" title="发表于 2017-10-03 23:19:20">2017-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2017/09/01/go/go-fmt/" title="Go 学习之路：Println 与 Printf 的区别"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604553352792&amp;di=c7fdae36ab8ea2b63f68e883bebf72f4&amp;imgtype=0&amp;src=http%3A%2F%2Fphotocdn.sohu.com%2F20151007%2Fmp34458815_1444187835381_60.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：Println 与 Printf 的区别"/></a><div class="content"><a class="title" href="/2017/09/01/go/go-fmt/" title="Go 学习之路：Println 与 Printf 的区别">Go 学习之路：Println 与 Printf 的区别</a><time datetime="2017-09-01T02:19:20.000Z" title="发表于 2017-09-01 10:19:20">2017-09-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2017/08/05/go/go-mark/" title="Go 学习之路：new和make的区别"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1604553099831&amp;di=a31a076e057ec6d854ace500c5d69f21&amp;imgtype=0&amp;src=http%3A%2F%2Fimgsrc.baidu.com%2Fforum%2Fw%3D580%2Fsign%3D6e3b71dd9f2f07085f052a08d926b865%2F25d69eec08fa513dcf7a0f4c3c6d55fbb3fbd92e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 学习之路：new和make的区别"/></a><div class="content"><a class="title" href="/2017/08/05/go/go-mark/" title="Go 学习之路：new和make的区别">Go 学习之路：new和make的区别</a><time datetime="2017-08-05T02:19:20.000Z" title="发表于 2017-08-05 10:19:20">2017-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2017/07/04/php/php-timer/" title="Laravel 自带时间处理函数"><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2516212805,4167059458&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel 自带时间处理函数"/></a><div class="content"><a class="title" href="/2017/07/04/php/php-timer/" title="Laravel 自带时间处理函数">Laravel 自带时间处理函数</a><time datetime="2017-07-04T07:29:42.000Z" title="发表于 2017-07-04 15:29:42">2017-07-04</time></div></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="card-content"><div class="item-headline"><i class="fas fa-bolt"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="card-category-list-name">前端</span><span class="card-category-list-count">2</span></a></li><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/vue/"><span class="card-category-list-name">vue</span><span class="card-category-list-count">2</span></a></li></ul><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/"><span class="card-category-list-name">后端</span><span class="card-category-list-count">12</span></a></li><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/go/"><span class="card-category-list-name">go</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/php/"><span class="card-category-list-name">php</span><span class="card-category-list-count">4</span></a></li></ul>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/apache/" style="font-size: 1.1em; color: #999">apache</a> <a href="/tags/defer/" style="font-size: 1.1em; color: #999">defer</a> <a href="/tags/fmt/" style="font-size: 1.1em; color: #999">fmt</a> <a href="/tags/go/" style="font-size: 1.37em; color: #99a4b2">go</a> <a href="/tags/js/" style="font-size: 1.23em; color: #999ea6">js</a> <a href="/tags/laravel/" style="font-size: 1.23em; color: #999ea6">laravel</a> <a href="/tags/mark/" style="font-size: 1.1em; color: #999">mark</a> <a href="/tags/mysql/" style="font-size: 1.5em; color: #99a9bf">mysql</a> <a href="/tags/new/" style="font-size: 1.1em; color: #999">new</a> <a href="/tags/painc/" style="font-size: 1.1em; color: #999">painc</a> <a href="/tags/php/" style="font-size: 1.37em; color: #99a4b2">php</a> <a href="/tags/printf/" style="font-size: 1.1em; color: #999">printf</a> <a href="/tags/println/" style="font-size: 1.1em; color: #999">println</a> <a href="/tags/recover/" style="font-size: 1.1em; color: #999">recover</a> <a href="/tags/session/" style="font-size: 1.1em; color: #999">session</a> <a href="/tags/token/" style="font-size: 1.1em; color: #999">token</a> <a href="/tags/vue/" style="font-size: 1.23em; color: #999ea6">vue</a> <a href="/tags/window/" style="font-size: 1.1em; color: #999">window</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 1.37em; color: #99a4b2">优化</a> <a href="/tags/%E5%80%BC%E7%B1%BB%E5%9E%8B/" style="font-size: 1.1em; color: #999">值类型</a> <a href="/tags/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" style="font-size: 1.1em; color: #999">异常处理</a> <a href="/tags/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/" style="font-size: 1.1em; color: #999">引用类型</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/11/"><span class="card-archive-list-date">十一月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/10/"><span class="card-archive-list-date">十月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/09/"><span class="card-archive-list-date">九月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/08/"><span class="card-archive-list-date">八月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/07/"><span class="card-archive-list-date">七月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/06/"><span class="card-archive-list-date">六月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/05/"><span class="card-archive-list-date">五月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/04/"><span class="card-archive-list-date">四月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">14</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-11-10T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2020-11-05T02:38:37.262Z"></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://d300.paixin.com/thumbs/1006880/22312145/staff_1024.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2020 By 子恒|Haley</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="icp"><a href="http://www.Haleyl.com"><img class="icp-icon" src="/img/icp.png" alt="ICP"/><span>粤ICP备17124216号-2</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "今日事&#44;今日毕,Never put off till tomorrow what you can do today".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '今日事&#44;今日毕'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script></div></body></html>