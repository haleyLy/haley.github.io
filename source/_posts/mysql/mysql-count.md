---
title: 数据库慢查询 - count
date: 2018-05-13 18:24:35
tags: [mysql,count]
categories: [后端,mysql]
cover: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYWFRgWFhYZGRgaGhoYGBwcGhocGBwaGBgaGRgaGhwcIS4lHB4rIRgYJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHzYnJSs0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDY2NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NP/AABEIALcBEwMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAADBAACBQEGB//EAEMQAAEDAQUFBAcGBAQHAQAAAAEAAhEDBBIhMUEFUWFxkROBobEUIjJCUsHRBhVikuHwI3KC8UNTorIzVGNzg6PSFv/EABkBAAMBAQEAAAAAAAAAAAAAAAECAwAEBf/EACwRAAICAQMEAgEDBAMAAAAAAAABAhEDITFBBBITURRhgQUikTJxwfAVQqH/2gAMAwEAAhEDEQA/ABF9B49V7ZS76LDMEdxXjQ871dtZ2d49VZdLWzOd9Xe6Ni1bOBxkT4rMrWQtOHmrNtT9TKt2k6q8YyjuyU5xlwLn+pQUxvxTIZKnYlPZJoEyiNfNFNNkZGFAzgoWrGuuDrGM34oVZo0MrvZrvZJkhHJtVQuWqXUfsl3s02glMBdXWsRuyXOzW0BqjnYnd0VTTKM1hRgJzS7DrUS7MqAcU+KIKG6y8FrQXF8AGlusqzmzk3qiNsp3IrbK5B0NFS5EHUyq3U++idVz0daxXF2Jtprt1Pdiu9lGi3cMoCbaav2aYLUN7UrYyVC70Fya7NdFFa0ZxbESFUhPmgqupBbuQOxiVxUITTxohliFm7RchVITBprnZoOSGUWAhRG7NRL3DdrDi9uVwz8K0aezXumGHDE4IjNmPKbyRF8UjLaxFFMFaP3Q9U9CcM0e5PkHjkt0KNs50KMwvbm1E9GKNTa8biOKzYVGvorcBEjBDMcOi0qNBrs8PJWfso6FL3JbjuEmrRlBoOinYbk96AVZthKbuXsXslyhNlkJXX2SE82zO3JkWdxGSVzodYk+DF7BWFAblp+hO3KzbCVnlQVgEG2XhCs2zBbbdn96Ys2zA7KJU3nRRdOecNnOgXWWVxXpXbJcPdPRcFnAQ86ew3grcx7NYTiCrvsBWqDdOScfRlkxgd6m8zHWJVR5Z1lhVFILZr2QZpV1KNypHJZOWOhBzBuVSwFOhg1QqjG6Ao94vYJuojegupBNgN1BXXtZGvmt3mUBB1MIL2QnHU5yHgqmy7yh3o3YIqjmLRFmbvK6LINMUHlQVibMvswoaS1fQXbgOZUNj/EO5K8qHWJmR2S4WLW9FCo9gGrUPI3sHsS3Mu5wUWhLd46KLd0vRqh7G7JVePePctazVXnHHmUvTw0TDHDRaTT4FimuRkVgM8TuAQqlUH3CeeC5Se4EERhvRHVnE/QJVuM26AXSfcCuykdw8Pmi9odxVHPcm7mLSLtov0LR0+iNTa+cSOgSYc5OWao9p9guG4tJQk3Q0asaFJvvY8oRGWemRIIncj2dtMmXsczf6pATgNmbk4+HzUHN/Z0KKM/0VkxI5qr7AZgEHkU5VqM9wtcNMQlqlQnAYcs/NBTYXFAXWAjNCdZwNVo09nX2j1y12pLiWnujBAq7EfmKjHd5CKyLlmcHwhV1IfFCLTpPBlrie5JOY9pwkFGpsqn3nGd2B80W9NxV/Y0X7SqgQ5zY5BIVqjHnHPgY8EJ1hqOwDXd4x6SgVLIWH12u5EFBJcMLb5RYvew4YhaFl200C69rY5YrHuOn1Lw4K52dUOYAneYPRF1WoFfBqV7dSI9UAHikBWb8I6pR2yX5yOuKD91u3E8igq4YWnyEtFZnBKG1NGvzTbdknVnWVdtlY3MBN31yL2/Qh6UD7hPIKhc7RoA/ei0zZr3shw7p8lV+zj8fWR4BDv8Aszj9GcXHV3TBcD2D3Z54ph+zjvB70F1kI0VIpMlKTRU1xo0Kel8D1XDRKoaRTqMSbnIL6VAynmlH1HHVF7Jc7JMlFAcmxZ5JQyxO9kudimtCaiPZqJ3sV1buRqZs2em7Vp+Sf9GJ91Ovspdqfl4Ja4WnM/vuXmvMpbHorE4g/u4fiB4jBNWewHJsO7yJRKG0C3CL3imjtEjEerzAlI8sh1CJVlhqf5LTyOPWUvUY1rofead3qkdZR6e0Xk+tUd3Qivq3vevcIBW8rT1N409i1mt1FuA9Xjcw8CVoUqrXDCswcLo+ayn0mD1iw8wQFYmlEw78zUHkQVBmnaKQjBwcd4ux++9ZzthucCZM6DSOIWdVtTG+4/qPout2lhFw/mP1RWRrZgcU90PM2AYN8AHSDnvwhHGwRMxhn7WPLNY7rVhLiY/ebkazbRZENBO8ud8oCV5vseOJejZNnYzNw5Yz5oLq1PIM8f1VGbQpHMNJ4YnwRvSW+7SJPBh8yovqI8lViYs60AZU0sbYRjDQOf6pi0Uqr8OzDf5i0eAQaWxnu9pzG/ytnxSrqUHwr2LV9pTq3980u223syQOXlC3KP2apNxcS48f7Jj7rojKOqfzi9kTCbbWAey49yA+1NOd5b9WhSG4dT5rPqkA4Anp5IrMmBwoRdawRDWHvQhVdoOglOPrO1aR+X6oBtJ0v9136p1kQjgxdzna3j3kDwQb5GTY7vqnLxdmah5R8kzS2a9wyeOcJ1mihXjkzFfVecwVS+fh816RuwHHU/mb5Jlv2caM3kd3zTeeJN4pHkTf+EeK4GO1aD1Xr6mxAPZeO8gIP3bHvsH9XzR86B4WeX7J3w+JRG0j8IXpTRYPacw8Rj5LhoUc74HIOlbzNm8aRhejmPYb0xVTZHfAPFbL3MGT3H+mPmqC0gaE9/6IeSXAe2HJiGxO+DxUNhPwmeYW4beNGeI/+VV20IybB4gH5LeTIDtxmF6C74CuLb+9n/Cz8oUW8mQHbjM61297Tgf33ITdq756/JL2mo9+THAckJtiqatI6DzXCskUtWkeg8cr0RrULU12TfknabHO9wfmP1WNZ7K9uZA7wU9SqEZGTy+ZUZ56/pZSOG90PGy/g8QmGMuj/hk8ZCQbVfvnvACKDUObmt5Yn5KL6iXLHWBehsub7wujhHzQq7rKBjJPPHwQxY2ky57nFEZY6Q92eqR9Wl7/AAHwfQlQe296jLw0Dj8ytD0d7hAZTbxm8fCEZhYzJoHcEdttGnyU5dXJvRB8VcCtHZDnMuufgd0DPuTNl+ztJvw994+ah2jG/wA1UW8nRx74+SRZ2r03BLHNmzQsDW4Nc1vJseSYFgPxg82uPm5Z1mrPdk3/AFLXoUn6s/1BWw5oyddrf9rZx5e6L1Yu6yO0eByYB80laKbm5vPQjyWhaw4Y9mO9wjzWTVr/AIafUfIoZc/a6Sp/djYbeu/8CzrQPinneKC61O90jupko7rVGje6fqqG1u0jofqpLqJHX474BtbVdr/oaPMIjbC7V8fl+io62P4dAhutTuHQKizvkDxv0Musn/UHgoKcf4jejT5hJurlVvHiqrOhXjY92jh78cob/tCC8g+069zLj80tJXCd58lRdSlyTeF+i7gNAPH6qMfG/uMITnjeuX9wJVF1KJvAwjqjviPVUceKqXn4SqmpwHVOuoQHgZ0hVIVe14DqqmtyTLOL4C5PFUIXDW5dFQ1ePgEyzA8J0hUIXe13ugb0vStZcSBIA1nAorMweELCip2nEqI+Vg8Rk/fDQMCe7NT77AAxdjmJyXm6NopuJF4s3XhgeGBKI65/mDvkeaf4OM6Pls9K3azN/WVZu2GaR3ryna0x/idA76KhtVP43flKV/p8PsZdY/o9cNvMOF7zA6wrs2uzj1K8e60UwJvk8gZ8sO9C9OZ+Po36of8AHw4s3zXzR7gbXbvPVXG2G6nxXhmbQac3PHcCB0KOyuxxjtT3tIHUiAlf6fEpHrfpHsxtZnDqrja9LUtXjmWV5OLTG8PB8EWrZWMxeXdCfJTfQ49rY66uXpHrjt+i3UdzSfILrPtMycGujfDR5mV4c2hnutceZA+qOy0N0aRzd+iz6DGlyZdT3PZH0Oh9oRhdLugXpNjbbbjecTzXySzWozkI3SfNbln2m2MiIG8LieCWGSlDRoq8GLNGnoe521tZjjhPyXnq20QM1iV9oA5NmcMXajuWTaa7zl4fOUF07yScpbt2ykMePDClqenftdu9CO2WrygqPGbA7nI8iFWtUqOEXQ3kI8V1R6GL3El1CWyPVnbKq7bErxzrRVaIEnmAR1ISdTtnG8XPngSOkZK8f0+BCXWNcHuTtbgqHa3BeJrVa7m3XOcRqMBPOBj3qtnrVmwGudAEAHFoG4A4BUX6fAk+sd7HtXbYOjUN22XaN8V5Q7SrzMjlcbB54T4q42xUxlreECB3zKdfp8PX/okurf8AqPTnbb5yEc8ZUO23ajxXm6O2j77GniAR80QbYZq1oH8r5R+DD0L8p+zadth3whUO2HxF3Hfgs0bWpbp5Xm9S4KrtpsnBrABnLpPcf0VI9JD0I+ofs1mbZdGLcVPvk/CsZ22qYiGE74d9QF1u26WM03jdF09ZIjxW+JH0b5D9mt97u+FQ7XPwrFfttki7SJGsuAPdgZQn7adOFJobqC4lx7wAB0KPxI+hfkP2bFTaTnZhdO1CBAbCy6G2GlxD2XW+6WmSODpjqmXWxh9lhI5j5Sm+PHahfO/Yz97v+EKJX0lnwuUR+PH0bzv2YvZHcudkVqtE+6mLMwBwvU2PGoc9zcOBDhHiupnMjDp2cEwb08G3vCU2zZ9OJearf/GY64hejZa2U4cyzWZhGIL67C4fndIPegVPtU8GHPs/9DXvj8hIPUKMnLhFYxjyxGxbKovaS1z3QYMscI6NRxsan8L/AMj/AJhKu2vSvh7XODscQ2oRJOd1z3RrgEVltDyA23OD9L7LjDw+Geam+72UXb6JbbDRYyXyycAbuJO4AjHosaKH+Y+P+2J84Wpa7O+8W1bYwA5gvJEfyDAeCZs/2ZovbebVe/8AEy5dwzEY4opqK1Zmm3+1C1ip1AB2D2vZuddz1Hq4hMstNrxBpsIx/tmtSnYGUz6jWsJGPsgkDET4rtS0saJc9gH87Vzzlb2svFUt2gNns19oL2AE5ghpjoUf7oYR7LehHklq1roFsGuBk71XOvHvYZPJY1s2jflrXPFM5hznuLuckwOA8VPsk+aKqUVpVm1Z9n2dxIbVZOsP04b+5FpWei28AH1CDBDWVHYg5AwGnqvJMDdQnaFfsxLajmEnG64jTWM0s8TfLZSOT6NjaLmNgNpVGuIvQ4ObGfOcikGVD10V27bqiP47iJ1Ad/uCs+1veS0upXj7xYwP8ABPMSjCPaqZpSctUzknSI5KjhhJMDiYHirs2ZUxmqY1g/TJGGxaZIv1HO3fsqvkihfHJmf6awe+3ul3lKDX2uwey1zzyujxx8F6Jmx7KBiHH+qFx2y7Hqx35yguojezFeCftHm6W12H22lnH2h4CfBM0rZSdgHt78PNaztj2H8fK+u/cli+E/nKqs69P+Cfgn7X8meWNO7fmli6lMX2Tl7QWm/YNm0vD+qfMFDGxLNkXvH5SPJMsy9MSWCX0L+iMImRG8GR1QHUaRye09PqmrR9maR9ir1APkUhX+zTx7L2u8CqRyJ8kp4nHgs+xN4IXoXAIYsNoZvjqESlWePaaD1CqpI53F+ipsw+FcdZxuRXWtwzYev6KjLc33muB4QR4wnTQrTB+jBc9GTotFM5OAG4gq5eyJviPHojoDUzXWdUawtxaSORI8lpB1NxMOgaA4HxVTRafZcDwkLUBtiF5/xP/M76qJ70Y7j0XFqBYGttw+7TYOLjPgI80m/aVZ3vxwYGiORAnxWcCjMMYqLkyqQUU5xOe8yT5yoabRlidMY80J1SdVcN4jxS6jacFmVDlhyyVg0HQT4obmnmOq41wQa9DKQUMAwjDci0HubIa5zQc4JAPMapd7uK7TqxyStOhlJWOsvDJx78fNDe4aiTvx+q6K7d6E96n+7ktarQuKm4DouuqHKShtdCjQFmg2FD+9Xe4QO9ABXajsuSHbqFSpBQrVicD3HuSl5FY+QR3hBxrUKnegw1xjBdba3N1d1+RQ6L1aqyUq3pht1aD09p75PgfNMM2mIxBPT6rDe2FW+QrKCZPySRu1LQw4hxHdgh0q144SscVFsWKLvFJNuKKYV5JUOXyBg5AdUdvVHhJ18ASlhNsplh2hH2szmo3aL96y3ViOKq2qeC61VHnSk70Nxm1HarrraHZrHY8a4JhqNI1yGzUGiq/HOCl7yhemA7LGmFQsUvrhesIzqE9WL1wvTAbKXzvPUqK14KIgExSAzxRL7eKoCDquEcJURyxA0KjXIbhuQyjRhvke5UdxwQ2mdcURzzEHFCg2UXJIXCuXiETF2vR2On5pUlXa4hK0PGVDBcrNchscCpCSiiYa8uVDiqAqIVqNehdcBgrgJxwOAk8BIEndmOqqHStQLGKZxTjRISd0gpmi9SkuSsWK2lkJO8tetRlZlaiQVTHJNUTyRadnaTZK0aTyElZgmSknq6K4VStDPapK11JMblerVuid+Sz3vRxw5BmyOqKvMlEaqMarkK7OaK5LSoHEZFVA17scBJyGPIrr2xn5ytYzLtrIjXyky9Wa9MmIxoqpKq2qFa8EUxWjhcql665CY8HI/JMmTaCXlFSFEbAKgq7HkZLhsj/gdnGRz3Los7/gd0KnaH1OuqncF1hby/e5CIjE5LrGE5Y+HmsYj2blW8RmiFhGeG+UKATAP06yjZi0gqEo7bA+CYIiM9Zyu796aOzDjLhhnALgOd2Y100KRzS5GSk+DPkLrQVo07NZ3SL78DGIY3E6YnerVrDRDXOFVxLSQBcvNMYe010YkjHBDvV1r/AAHse/8Akzg6MwmWPB1TFo2Y5rS9t2owRLmyIngWg+a7Z9n3sWlhG+9BzjEH2cMcRuSuaaspFSToqyyg5ObnhMjTXd+q654p4lrSSMpBB3YafvvvtJ1MBtz2icd43eaybSwtcQXXuIMhCK7txpS7djXG3SJFxgBzui7hhhgZ03qja1ImA0AxhnE6SsW6utB0TeOK20FWV8m5RqNdLSQDOEg5RpGv1XGmM1nWbFwhM3ql6IE4GInPLKSc/FI460PGVo17O4EINsotORSzHEEFwIOmEDDHXNaFOx1HtBa0Ok3RBAgxMHqOq53+2V2dCfdGqMcPDTiqutROAGeHDHyWidiODhfvnS63A5GBeMgdDCE3ZpDmi6RIJxIwzg9+GCspwet2Rqa02MqvVbfMEuEAAkRMASY0yMLUtFGiAKYeWuGL3nEFwAgAN9lol3HUzkMO6A+CSAHQTqADExvTVNg7UtEES4YmZwMGdV0aJHPGVt2Mssr59kxhjlIO6UJhvF0CANCRMd8SVv8AYhlNxcWuABugEQIBI4jKJXmrHVuvDjiMZnXA596jCbkm1wWklGl7G6bqdS+CC3EFgbzg3ieHU8seWhoa6Gkw5t6Jyknhkt/7gY1lWrfdAYHNEAbiZgcIgb1n06NEgOc5pEScDMYZKuT9i1FirMh0DPPD+373K9KzOdJggASTG/JegruphoNO44jgNYzHPzKyn7ZMOAaBwiRgT36qKySktEFwinqxI0XAScMYjWYnJWoUy6QNM+HDFbNjeYbVqSKclwLTdLoGLB+I5SMpJSNZrmuLSA3tAHQ2LsPEtI4Yq0FKSZOSSARdaXkTDg1oOLS7MkxmABlxHIpUXk4R3wAPoj2u0ksDScnHAAQMBjO/PTBTZ9Zoa5rgcwcNZifJG2o3Qkkm0iNoOOI15KLYbb2/C7ofquqHmn6H8UPZiU7NUxIbjGpBIx0BOeKcoWYlt5wk6i/lxgYr0L9hk3TQc0BzYcJIIcDeAGkEQM9e5VGxHMEeqZMes3AkOgjeIJIkYSToEHnT2HWJrcVs9kpFs32h12Iu3iHHQTgMfNX2bQqzDiHNBugggCCczmJwGOOZWvZNgYSQAbsk4gTjiMdJbMj6K3/529e/iODoIBkFuZ9k6Ccs5wK53mWqbLLG9HRiVdjOcT6xIjV7XNEmRAi87zQ3bBIMBlRpgG80hwBiSJkETy65rbZsgMbDqjnH2pdhAYJIkSCDlvyO9Ap16RdcJBILmNdgT6okTjLiDED8UYIxyz/66/gDhFbnlx7dwtc5xdBN4tOOGAiBzTNoqBstLXB7SyYAEBusiAdMYnoVpDZYLpD23R7LcYyLcibw9jDuxRrJshryHXiQSHREEGQTM6kb8cjKtLJHdk1B7IA+x02uJawtvYy5hLW3heJIM+ruM5DeVi1asOHZkiJuua0gHGSYPn4L3b7S+mPUaAxuB1OLSZEmM3EHlBmUF1WWua0MA9aYa2SC3PHXE5x3KEM0lur/ACWeJPZ1+DBZSrlh7T1zgPbYIa2TAImchgRHPTBt9qJhovBrZDQYJE5+sM07bdoVGue1sBvsw2IyjdM54neseoScTM8V144vd1+DmySVUmwd86qznych3IRKsCVeiCkWXWocqBag9x6nYFBrJe4Nm7LZh2OgEZEwt6jbKbpJDb+Tg4etgQ08OO/XReCZaiDM/THPDJaItbR60+0AIziQJ0xhceXp3J22dcOo7VSRubT2s2k9sNGOLmlsAHIxuBxTFp26Hy9nqbwc8RIwOa8tXY54L3OB1G88QEsKzpxPzQ+NFpe0Z9TJN+mblotvrXmOeAR7xkE4DhGQx4BZVstz3TiZx10yI4hSz2WpVJFNpcQJIBAgZTifLel7TZqtJ117S0xMHUHUHu8FeGJIhOcmLB/rSd8nzV6lQOeXAQCZgaYK7bI8iS0gZ9xwHchmiQVeiQ5Sr4QSSDgRvB0StPXDvxwR6NGY471alTuucHDLLxSKNWUTsJtDadSo5wLzBwgEhp0JgnMpf0cqhZLjGhnukZbytO4EXbDuzO7I8fFXFEnPH5J4U1Z9MERE7whRqEWsMEDunIHAz+96DVtLiZzjAHlknKzC1rgAeHfAPh5JfsT6jY1knTemWgGEe0ugkAEbhMyMZ5JenTcBgfBPVLOTjMd8eSqKR4LJCSFvW3DofqomezO/w/VRbtQts0tn7VLH3rzg0DEDTARHGP8AbxWpaNvCG4Q6A4HGIMyN+IA6KKLjnhg3bR1wm6JQ+0lMugh2JaDuI945E6N/VaFbbFNrRdvZOHCc8BEYDDjhxUUUcmCCaKRyS1MK32+o8lg9XAEi8Tgc4Pj3JBmyiWl7vZ34EidQOZC6oqN+NVH6Jf1PUd2fZoc04ue6S0eqMsMScMRh3pt9d9IQGMZIJkkvOHPXHfqoop33S1KLROhSj9oGgfxHB50DW3buM5kQY5dV2t9rQ6f4QAIiZBOGAOLY0Giii6fjY3rRDz5K3Mi0W5hILROGMtAx1ySdWo0mYxUUVoxS2JOTAOhUvKKKgpM1cUHbvEKKLGJ6MU3QsjyIJw3SooibkZpbObrM80xTsTBiBioosEK+mMMPAdyE8SMfLjoNOSiiCGewrUpzk5wjAYmI3RuQXMgwooiJwX7Bx/uitpuJF5085PjMqKIMaIWpTvHEAbyMzhAkngEZlIbvFRRYog7aY3BWvblFEoQTxKBUYFFFhGMWfZlap7DJ43mjzKPX2DUpi9Vexg4l7j0a0+aiiqoqiHc7Fewof8z/AOp/1UUUQoY//9k=
---

## 场景
在业务处理过程中，在表数据量庞大的情况下。我们会需要一个问题就是分页/获取总数的情况。其中一查有的同学就会知道时不时出现个慢查询的警报，头疼不已。你肯定想屏蔽群了。

## 方案

* show table status - 针对不太要求实时性
* 分页不展示总数，具体可参数谷歌分页做法

